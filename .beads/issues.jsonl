{"id":"xrelease-k3s","title":"Monorepo Support: Scoped Tags and Filtered Changelogs","description":"Enable xrelease to work in monorepo setups where multiple apps share a single git repository. Currently, tags are global (v1.2.3), changelogs scan all commits, and there's no scoping mechanism. This epic adds tag prefixes, path-filtered changelogs, and scope-aware version file handling.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-19T10:48:58.674587375-05:00","updated_at":"2025-12-19T10:49:04.173784754-05:00"}
{"id":"xrelease-k3s.1","title":"Add tagPrefix config option","description":"Add tagPrefix field to ReleaseConfig schema in src/core/config.ts. When set (e.g., 'api/'), tags become 'api/v1.2.3' instead of 'v1.2.3'. Update src/core/git.ts createAndPushTag() to use prefix. Update tag detection in generate-changelog.ts to filter by prefix pattern.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:11.541023296-05:00","updated_at":"2025-12-19T10:49:11.541023296-05:00","dependencies":[{"issue_id":"xrelease-k3s.1","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:11.541546455-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.2","title":"Add paths config for changelog filtering","description":"Add paths array to ReleaseConfig schema. When set (e.g., ['apps/api/**']), changelog generation only includes commits that touched those paths. Update src/core/release/generate-changelog.ts to append '-- \u003cpaths\u003e' to git log command. This scopes changelogs to relevant changes only.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:20.15346236-05:00","updated_at":"2025-12-19T10:49:20.15346236-05:00","dependencies":[{"issue_id":"xrelease-k3s.2","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:20.154036028-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.3","title":"Add scope config for working directory","description":"Add scope field to ReleaseConfig (e.g., 'apps/api'). When set, resolve package.json and version files relative to scope directory. Update src/core/release/bump-version.ts to use scoped paths. This allows per-app versioning in monorepos.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:26.880567543-05:00","updated_at":"2025-12-19T10:49:26.880567543-05:00","dependencies":[{"issue_id":"xrelease-k3s.3","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:26.881113867-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.4","title":"Update last tag detection to respect prefix","description":"When tagPrefix is set, git describe --match should filter to 'prefix*' pattern. Update src/core/release/generate-changelog.ts getLastTag() to use --match flag with prefix. This ensures changelog diffs are between correct scoped tags.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:34.114149625-05:00","updated_at":"2025-12-19T10:49:34.114149625-05:00","dependencies":[{"issue_id":"xrelease-k3s.4","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:34.114698664-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.5","title":"Support --config flag with relative paths","description":"Enhance --config CLI flag to work with paths like 'apps/api/.xrelease.yml'. Resolve all file operations relative to config file location when scope is not explicitly set. Update src/cli/commands/create.ts and src/core/config.ts readConfig().","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:40.582807138-05:00","updated_at":"2025-12-19T10:49:40.582807138-05:00","dependencies":[{"issue_id":"xrelease-k3s.5","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:40.583460161-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.6","title":"Add --scope CLI flag for quick scoping","description":"Add --scope flag to 'xrelease create' command (e.g., 'xrelease create --scope api'). This overrides config and sets tagPrefix, paths, and scope automatically based on convention (apps/\u003cscope\u003e). Lower priority - nice to have for ergonomics.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T10:49:46.642989325-05:00","updated_at":"2025-12-19T10:49:46.642989325-05:00","dependencies":[{"issue_id":"xrelease-k3s.6","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:46.643402537-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.7","title":"Add tests for monorepo scenarios","description":"Add Vitest tests covering: 1) Tag creation with prefix, 2) Changelog filtering by paths, 3) Scoped version file resolution, 4) Last tag detection with prefix filter, 5) Config loading from nested paths. Use fixtures to simulate monorepo structure.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:52.630301438-05:00","updated_at":"2025-12-19T10:49:52.630301438-05:00","dependencies":[{"issue_id":"xrelease-k3s.7","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:52.630890386-05:00","created_by":"daemon"}]}
{"id":"xrelease-k3s.8","title":"Update documentation for monorepo usage","description":"Update README.md and docs/configuration.md with: 1) New config options (tagPrefix, paths, scope), 2) Example monorepo .xrelease.yml configs, 3) Workflow examples for releasing individual apps, 4) Migration guide for existing users.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T10:49:58.646231598-05:00","updated_at":"2025-12-19T10:49:58.646231598-05:00","dependencies":[{"issue_id":"xrelease-k3s.8","depends_on_id":"xrelease-k3s","type":"parent-child","created_at":"2025-12-19T10:49:58.646895012-05:00","created_by":"daemon"}]}
